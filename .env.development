# ============================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env for local development:
#   cp .env.development .env
# ============================================

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================
ENV=development

# ============================================
# BASE PATH CONFIGURATION
# ============================================
# For subpath deployment (e.g., /bulq in production)
# Development: serve at root path
VITE_BASE_PATH=/

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Development secret key (not used in production)
SECRET_KEY=dev-secret-key-not-for-production

# Allow insecure cookies over HTTP in development
SECURE_COOKIES=false

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_DB=bulq
POSTGRES_USER=bulq
POSTGRES_PASSWORD=bulq_dev_pass
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# Database Connection Pool Configuration
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Repository Mode - use in-memory for quick dev iteration
# Options: "memory" (with test data) or "database" (PostgreSQL)
REPO_MODE=memory

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_EXPIRY_HOURS=24

# ============================================
# CORS CONFIGURATION
# ============================================
# Development: Leave empty for automatic localhost defaults
ALLOWED_ORIGINS=

# ============================================
# DOCKER CONFIGURATION
# ============================================
# Caddy listen address (for Caddyfile)
CADDY_LISTEN=localhost:3000

# Port Caddy listens on inside container
CADDY_PORT=3000

# Port exposed on host for frontend
FRONTEND_PORT=3000

# Port exposed on host for backend (for direct access)
BACKEND_PORT=8000

# Backend hot-reload volume mount
BACKEND_VOLUME=./backend

# ============================================
# BUILD CONFIGURATION
# ============================================
# Include dev dependencies in Docker build (for testing)
BUILD_DEV_DEPS=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=structured
LOG_FILE=

# ============================================
# USAGE INSTRUCTIONS
# ============================================
# 1. Copy to .env:
#    cp .env.development .env
#
# 2. Start services:
#    docker compose up
#
# 3. Access:
#    - Frontend: https://localhost:3000
#    - Backend: http://localhost:8000
#    - API Docs: http://localhost:8000/docs
#
# 4. Hot reload:
#    - Backend: Enabled via volume mount
#    - Frontend: npm run dev for Vite hot reload (outside Docker)
#
# 5. In-memory mode:
#    - Pre-populated with test users, groups, stores, products
#    - Data resets on restart
#    - Perfect for quick iteration
